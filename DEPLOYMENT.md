# MergeGuild Vercel 배포 가이드

## 🚀 개요
이 문서는 Unity WebGL로 빌드된 MergeGuild 프로젝트를 Vercel에 배포하는 방법을 설명합니다.

## 📋 사전 요구사항
- Vercel 계정
- Git 저장소 (GitHub, GitLab, Bitbucket 등)
- Unity WebGL 빌드 파일들

## 🔧 배포 단계

### 1. Vercel 프로젝트 생성
1. [Vercel](https://vercel.com)에 로그인
2. "New Project" 클릭
3. Git 저장소 연결
4. 프로젝트 이름을 "mergeguild"로 설정

### 2. 빌드 설정
- **Framework Preset**: Other
- **Build Command**: 비워두기 (빌드 불필요)
- **Output Directory**: . (현재 디렉토리)
- **Install Command**: 비워두기

### 3. 환경 변수 설정
현재는 추가 환경 변수가 필요하지 않습니다.

### 4. 배포 실행
"Deploy" 버튼을 클릭하여 배포를 시작합니다.

## ⚙️ 최적화된 설정

### Vercel 설정 (vercel.json)
- **압축 파일 지원**: `.br` 파일들의 올바른 MIME 타입 설정
- **캐시 최적화**: 정적 파일들의 장기 캐싱
- **CORS 정책**: Unity WebGL 호환성을 위한 보안 헤더 조정
- **리다이렉트**: SEO 친화적인 URL 구조

### Service Worker
- **오프라인 지원**: 핵심 파일들의 캐싱
- **압축 파일 처리**: Vercel의 자동 압축과 호환
- **캐시 전략**: 효율적인 리소스 관리

### PWA 지원
- **매니페스트 파일**: 앱 설치 및 홈 화면 추가 지원
- **아이콘**: 다양한 크기의 앱 아이콘
- **테마 색상**: 브라우저 UI 통합

## 🐛 문제 해결

### 일반적인 문제들

#### 1. Unity WebGL 로딩 실패
- **증상**: 게임이 로딩되지 않음
- **해결**: 브라우저 콘솔에서 에러 메시지 확인
- **원인**: 파일 경로 문제 또는 MIME 타입 오류

#### 2. 압축 파일 로딩 실패
- **증상**: `.br` 파일들을 찾을 수 없음
- **해결**: Vercel 설정에서 압축 파일 헤더 확인
- **원인**: Content-Encoding 헤더 누락

#### 3. CORS 오류
- **증상**: 브라우저에서 CORS 정책 위반 메시지
- **해결**: vercel.json의 보안 헤더 설정 확인
- **원인**: 과도한 보안 정책

### 디버깅 방법
1. **브라우저 개발자 도구** 사용
2. **Network 탭**에서 파일 로딩 상태 확인
3. **Console 탭**에서 에러 메시지 확인
4. **Vercel 로그**에서 서버 측 문제 확인

## 📱 모바일 최적화

### 뷰포트 설정
- `width=device-width, height=device-height`
- `initial-scale=1.0, user-scalable=no`
- `shrink-to-fit=yes`

### 터치 이벤트
- `touchAction: 'none'` 설정
- 모바일 전용 메타 태그 추가

## 🔍 성능 모니터링

### Vercel Analytics
- 페이지 로딩 속도
- 사용자 경험 지표
- 에러 발생률

### Unity WebGL 성능
- 프레임 레이트 모니터링
- 메모리 사용량 추적
- 로딩 시간 측정

## 📈 추가 최적화

### 이미지 최적화
- WebP 포맷 사용 고려
- 적응형 이미지 크기
- 지연 로딩 구현

### 코드 분할
- Unity 빌드 파일 분할
- 동적 임포트 사용
- 번들 크기 최적화

## 🚨 주의사항

1. **파일 크기**: Unity WebGL 빌드는 일반적으로 큽니다
2. **로딩 시간**: 초기 로딩 시간이 길 수 있습니다
3. **브라우저 호환성**: 최신 브라우저에서만 최적 성능
4. **모바일 성능**: 데스크톱보다 제한적일 수 있습니다

## 📞 지원

문제가 발생하면 다음을 확인하세요:
1. Vercel 배포 로그
2. 브라우저 콘솔 에러
3. Unity WebGL 빌드 설정
4. 네트워크 요청 상태

## 🔄 업데이트

새로운 Unity 빌드를 배포할 때:
1. 빌드 파일들을 저장소에 푸시
2. Vercel이 자동으로 재배포
3. Service Worker 캐시 자동 정리
4. 사용자에게 새 버전 알림

---

**마지막 업데이트**: 2024년 1월
**버전**: 1.0
